/*! jQuery.socialthings (https://github.com/Takazudo/jQuery.socialthings)
 * lastupdate: 2014-11-11
 * version: 0.1.10
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){(function(t){var e;return e={},e.facebook={},e.facebook.options={locale:"en_US",appId:null},e.facebook.loadJS=function(){var n,r;return r=!1,n=function(){var n,o;t("body").append('<div id="fb-root"></div>'),n=e.facebook.options,o="//connect.facebook.net/"+n.locale+"/sdk.js#xfbml=1&version=v2.0",n.appId&&(o+="&appId="+n.appId),function(t,e,n){var r,i;return r=t.getElementsByTagName(e)[0],t.getElementById(n)?void 0:(i=t.createElement(e),i.id=n,i.src=o,r.parentNode.insertBefore(i,r))}(document,"script","facebook-jssdk"),r=!0},function(){return r?!1:(n(),!0)}}(),e.facebook.waitForPreparation=function(){var e,n,r;return e=250,n=null,r=function(){return n=t.Deferred(function(t){var n;return n=function(){var r;return null!=(null!=(r=window.FB)?r.XFBML:void 0)?t.resolve():setTimeout(n,e)},n()}).promise()},function(){return n||r(),n}}(),t.fn.initFacebookThings=function(){return this.each(function(t,n){return e.facebook.loadJS()?void 0:e.facebook.waitForPreparation().done(function(){return window.FB.XFBML.parse(n)})})},e.facebookShareButton={},e.facebookShareButton.Button=function(){function n(n,r){this.$el=n,this.options=t.extend({},e.facebookShareButton.Button.defaults,r),this._tweakInsideHtml(),this._handleDataAttrs(),this._prepareUrl(),this._eventify()}return n.defaults={windowname:"facebook-share-dialog",width:null,height:null,url:null,html:null,tweakHref:!0},n.prototype.open=function(){var t,e,n;return n=this.options,e=n.windowname,t=[this._url,e],null!=n.width&&null!=n.height&&t.push("width="+n.width+",height="+n.height),window.open.apply(window,t)},n.prototype._tweakInsideHtml=function(){return null!=this.options.html?this.$el.html(this.options.html):void 0},n.prototype._prepareUrl=function(){var t,e;return t=this.options,e=t.url||location.href,this._url="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e),t.tweakHref?this.$el.attr("href",this._url):void 0},n.prototype._handleAttr=function(t){var e,n;return e=t.replace(/^data-facebookshare-/,""),(n=this.$el.attr(t))?this.options[e]=n:void 0},n.prototype._handleDataAttrs=function(){return this._handleAttr("data-facebookshare-windowname"),this._handleAttr("data-facebookshare-width"),this._handleAttr("data-facebookshare-height"),this._handleAttr("data-facebookshare-url")},n.prototype._eventify=function(){var t=this;return this.$el.click(function(e){return e.preventDefault(),t.open()})},n}(),t.fn.facebookShareButton=function(n){var r;return r="facebooksharebutton",this.each(function(o,i){var a,u;return a=t(i),u=new e.facebookShareButton.Button(a,n),a.data(r)?void 0:a.data(r,u)})},e.twitter={},e.twitter.loadJS=function(){var t,e;return e=!1,t=function(){(function(t,e,n){var r,o,i;return r=t.getElementsByTagName(e)[0],i=/^http:/.test(t.location)?"http":"https",t.getElementById(n)?void 0:(o=t.createElement(e),o.id=n,o.src=i+"://platform.twitter.com/widgets.js",r.parentNode.insertBefore(o,r))})(document,"script","twitter-wjs"),e=!0},function(){return e?!1:(t(),!0)}}(),e.twitter.waitForPreparation=function(){var e,n,r;return e=250,n=null,r=function(){return n=t.Deferred(function(t){var n;return n=function(){var r,o;return null!=(null!=(r=window.twttr)?null!=(o=r.widgets)?o.load:void 0:void 0)?t.resolve():setTimeout(n,e)},n()}).promise()},function(){return n||r(),n}}(),e.twitter.applyWidgets=function(){e.twitter.loadJS()||e.twitter.waitForPreparation().done(function(){return window.twttr.widgets.load()})},e.twitterShareButton={},e.twitterShareButton.Button=function(){function n(n,r){this.$el=n,this.options=t.extend({},e.twitterShareButton.Button.defaults,r),this._tweakInsideHtml(),this._handleDataAttrs(),this._prepareUrl(),this._eventify()}return n.defaults={windowname:"twitter-tweet-dialog",width:null,height:null,url:null,html:null,text:null,via:null,related:null,tweakHref:!0},n.prototype.open=function(){var t,e,n;return n=this.options,e=n.windowname,t=[this._url,e],null!=n.width&&null!=n.height&&t.push("width="+n.width+",height="+n.height),window.open.apply(window,t)},n.prototype._tweakInsideHtml=function(){return null!=this.options.html?this.$el.html(this.options.html):void 0},n.prototype._prepareUrl=function(){var t,e,n,r,o,i;return t=this.options,r=t.url||location.href,o=t.text||document.title,i=t.via,n=t.related,e=[],r&&e.push("url="+encodeURIComponent(r)),o&&e.push("text="+encodeURIComponent(o)),i&&e.push("via="+encodeURIComponent(i)),n&&e.push("related="+encodeURIComponent(n)),this._url="https://twitter.com/share?"+e.join("&"),t.tweakHref?this.$el.attr("href",this._url):void 0},n.prototype._handleAttr=function(t){var e,n;return e=t.replace(/^data-twittershare-/,""),(n=this.$el.attr(t))?this.options[e]=n:void 0},n.prototype._handleDataAttrs=function(){return this._handleAttr("data-twittershare-windowname"),this._handleAttr("data-twittershare-width"),this._handleAttr("data-twittershare-height"),this._handleAttr("data-twittershare-text"),this._handleAttr("data-twittershare-url"),this._handleAttr("data-twittershare-via"),this._handleAttr("data-twittershare-related")},n.prototype._eventify=function(){var t=this;return this.$el.click(function(e){return e.preventDefault(),t.open()})},n}(),t.fn.twitterShareButton=function(n){var r;return r="twittersharebutton",this.each(function(o,i){var a,u;return a=t(i),u=new e.twitterShareButton.Button(a,n),a.data(r)?void 0:a.data(r,u)})},e.gplus={},e.gplus.options={lang:"en"},e.gplus.loadJS=function(){var n,r;return r=!1,n=function(){window.___gcfg={lang:e.gplus.options.lang},t.getScript("https://apis.google.com/js/plusone.js"),r=!0},function(){return r?!1:(n(),!0)}}(),e.gplus.applyWidgets=function(){e.gplus.loadJS()||window.gapi&&window.gapi.plusone.go()},e.hatebu={},e.hatebu.disabled=!1,e.hatebu.loadJS=function(){var t,n,r;return n=!1,r=function(){return"https:"===document.location.protocol?!0:!1},t=function(){return n=!0,r()?(e.hatebu.disabled=!0,void 0):function(t,e,n){var r,o;return r=t.getElementsByTagName(e)[0],t.getElementById(n)?void 0:(o=t.createElement(e),o.id=n,o.charset="utf-8",o.async=!0,o.src="http://b.st-hatena.com/js/bookmark_button.js",r.parentNode.insertBefore(o,r))}(document,"script","hatebu-wjs")},function(){return n?!1:(t(),!0)}}(),e.hatebu.applyWidgets=function(){if(!e.hatebu.loadJS()){if(e.hatebu.disabled)return;Hatena.Bookmark.BookmarkButton.setup()}},e.line={},e.line.loadJS=function(){var t,e;return e=!1,t=function(){var t,n;t=/^http:/.test(document.location)?"http":"https",n=t+"://media.line.naver.jp/js/line-button.js?v=20130508",document.write("<script src='"+n+"'></"+"script>"),e=!0},function(){return e?!1:(t(),!0)}}(),e.manualLine={},e.manualLine.config={data_key:"socialthingsManuallinebutton"},e.manualLine.isSmartphone=function(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android)/i)},e.manualLine.Button=function(){function n(n,r){this.$el=n,this.options=t.extend({},e.manualLine.Button.defaults,r),(!this.options.hide_when_pc||e.manualLine.isSmartphone())&&this.render()}return n.defaults={url:function(){return location.href},title:function(){return document.title},href_creater:function(t,e){return"http://line.naver.jp/R/msg/text/?"+t+"%0D%0A"+e},hide_when_pc:!1,html:'<a href="#"><img src="http://media.line.naver.jp/img/button/ja/88x20.png" alt="Lineで送る" width="88" height="20"></a>',prop_key_url:"data-manualline-url",prop_key_title:"data-manualline-title"},n.prototype.render=function(){var e;return this.$el.html(this.options.html),e=this._createHref(),t("a",this.$el).attr("href",e)},n.prototype._createHref=function(){var t,e,n;return e=this._createTitle(),n=this._createUrl(),t=this.options.href_creater(e,n)},n.prototype._createTitle=function(){var t;return t=this._getValFromDataProp(this.options.prop_key_title),null!=t?t:this._handleOptionVal(this.options.title)},n.prototype._createUrl=function(){var t;return t=this._getValFromDataProp(this.options.prop_key_url),null!=t?t:this._handleOptionVal(this.options.url)},n.prototype._getValFromDataProp=function(t){var e;return e=this.$el.attr(t),null!=e?e:null},n.prototype._handleOptionVal=function(e){switch(t.type(e)){case"function":return e();default:return e}},n}(),t.fn.manualLineButton=function(n){return this.each(function(r,o){var i,a,u;i=t(o),a=e.manualLine.config.data_key,u=i.data(a),null==u&&(u=new e.manualLine.Button(i,n)),i.data(a,u)})},e.pocket={},e.pocket.loadJS=function(){return t.getScript("https://widgets.getpocket.com/v1/j/btn.js?v=1")},e.pocket.applyWidgets=function(){e.pocket.loadJS()},e.mixi={},e.mixi.loadJS=function(){var t;return t=function(t,e){var n,r,o;null==t&&(t=document),null==e&&(e="script"),n=t.getElementsByTagName(e)[0],o=/^http:/.test(t.location)?"http":"https",r=t.createElement(e),r.src=o+"://static.mixi.jp/js/share.js",n.parentNode.insertBefore(r,n)},function(){return t(),!0}}(),e.mixi.applyWidgets=function(){e.mixi.loadJS()},e.sumally={},e.sumally.loadJS=function(){var t,e;return e=!1,t=function(){return function(t,n,r){var o,i,a;o=t.getElementsByTagName(n)[0],a=/^http:/.test(t.location)?"http":"https",i=t.createElement(n),i.id=r,i.src=a+"://platform.sumally.com/buttons.min.js",o.parentNode.insertBefore(i,o),e=!0}(document,"script","sumally-bjs")},function(){return e?!1:(t(),!0)}}(),e.sumally.applyWidgets=function(){e.sumally.loadJS()||window.sumally.buttons.load()},t.socialthings=e})(jQuery)}).call(this);